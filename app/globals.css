@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --font-geist-sans: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
  --font-geist-mono: "SFMono-Regular", "JetBrains Mono", Menlo, monospace;
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  /* ===========================
   * Black & Gold DEX Design Tokens
   * =========================== */

  /* Brand · Black 系列（主背景） */
  --black-900: #0a0a0c; /* DEX 主背景 / 深色 Panel */
  --black-800: #0d0f12; /* 悬浮/次级背景 */
  --black-700: #111316; /* 更浅一层背景 */

  /* Brand · Gold 系列（品牌金色） */
  --gold: #c9a227; /* 主品牌金色 */
  --gold-soft: rgba(201, 162, 39, 0.35); /* hover / 浅金色填充 */
  --gold-border-soft: rgba(201, 162, 39, 0.3); /* 卡片 / 面板普通边框 */
  --gold-border-strong: rgba(201, 162, 39, 0.65); /* 主按钮高亮边框 */
  --gold-divider: rgba(201, 162, 39, 0.4); /* Divider 线条 */
  --gold-glow-color: rgba(201, 162, 39, 0.28); /* Glow 颜色 */
  --gold-glow-soft-shadow: 0 0 12px rgba(201, 162, 39, 0.15); /* Badge 等小光晕 */
  --gold-glow-shadow: 0 0 32px rgba(201, 162, 39, 0.28); /* 主按钮大光晕 */

  /* 兼容组件里已经用到的变量名 */
  --app-gold: var(--gold);
  --app-gold-hover: #d4a017; /* primary hover 边框/文字颜色 */

  /* Neutral / Gray 系列 */
  --gray-50: #f9fafb;
  --gray-300: #d4d4d8;
  --gray-500: #71717a;
  --gray-700: #3f3f46;
  --gray-900: #18181b;

  /* Semantic Colors（语义色） */

  /* Success (emerald 系) */
  --success: #22c55e; /* 主成功色，可用于文字/图标 */
  --success-bg-soft: #ecfdf3; /* Badge / Tag 背景 */
  --success-border: #a7f3d0;
  --success-text: #047857;

  /* Warning (amber 系) */
  --warning: #f59e0b;
  --warning-bg-soft: #fffbeb;
  --warning-border: #fde68a;
  --warning-text: #b45309;

  /* Error / Destructive (rose 系) */
  /* 用于 Button.danger / Input.error / Badge.error */
  --error: #e11d48; /* 主错误红（接近 rose-600） */
  --error-bg-soft: rgba(248, 113, 113, 0.08); /* 需要更亮背景时可用 */
  --error-input-bg: rgba(254, 242, 242, 0.7); /* Input 错误背景 */
  --error-border: #fb7185; /* 边框色（对应 rose-400） */
  --error-text: #fee2e2; /* 暗背景上的错误文字 */
  --error-glow: 0 0 26px rgba(248, 113, 113, 0.45); /* danger 按钮光晕 */

  /* Input Tokens（输入框相关） */
  --input-bg: rgba(255, 255, 255, 0.06); /* 对应 bg-white/6 的玻璃背景 */
  --input-border: #e4e4e7; /* zinc-200 */
  --input-border-hover: var(--gold-border-soft);
  --input-border-focus: #c9a227; /* 纯金色边框 */
  --input-placeholder: #a1a1aa; /* zinc-400 */
  --input-text: #e5e5e5; /* 深色背景下的文字颜色 */
  --input-disabled-bg: rgba(255, 255, 255, 0.6);
  --input-disabled-text: #a1a1aa;
  --input-disabled-border: rgba(228, 228, 231, 0.7); /* zinc-200/70 */

  /* Card / Panel Tokens */
  /* Card（亮色玻璃卡片） */
  --card-bg: rgba(255, 255, 255, 0.9); /* white/90 */
  --card-bg-flat: rgba(255, 255, 255, 0.75); /* white/75 */
  --card-border: rgba(245, 199, 106, 0.24); /* #f5c76a3d */
  --card-shadow-default: 0 8px 32px rgba(0, 0, 0, 0.08);
  --card-shadow-elevated: 0 12px 32px rgba(0, 0, 0, 0.12);

  /* Panel（深色面板） */
  --panel-bg-dark: #0a0a0c;
  --panel-border-dark: rgba(201, 162, 39, 0.3);
  --panel-ring-dark: rgba(201, 162, 39, 0.12);
  --panel-shadow-dark: 0 18px 45px rgba(0, 0, 0, 0.6);
  --panel-shadow-elevated: 0 22px 55px rgba(0, 0, 0, 0.72);

  /* Light / Glass Panel */
  --panel-bg-light: rgba(255, 255, 255, 0.9);
  --panel-bg-glass: rgba(255, 255, 255, 0.8);
  --panel-bg-subtle: rgba(255, 255, 255, 0.7);
  --panel-border-light: rgba(245, 199, 106, 0.24);

  /* Typography / Label */
  --label-text: #6b7280; /* 接近 text-zinc-500 */
  --label-required: #fbbf24; /* amber-400 星号 */

  /* Layout / 背景 */
  --page-bg: var(--black-900); /* 整页背景（如需可在 body/background 使用） */
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* RainbowKit 黑金主题自定义样式 */
@layer components {
  /* ConnectButton 容器 - 更紧凑 */
  [data-rk] {
    font-size: 13px !important;
  }

  /* ConnectButton 基础样式 - 更小更紧凑 */
  [data-rk] button[data-testid] {
    background-color: #0a0a0c !important;
    border: 1px solid rgba(201, 162, 39, 0.25) !important;
    border-radius: 12px !important;
    color: #c9a227 !important;
    padding: 6px 12px !important;
    height: auto !important;
    min-height: auto !important;
    transition: all 0.2s ease-out !important;
    font-size: 13px !important;
    line-height: 1.4 !important;
  }

  /* ConnectButton hover 状态 */
  [data-rk] button[data-testid]:hover {
    background-color: #111111 !important;
    box-shadow: 0 0 12px rgba(201, 162, 39, 0.4) !important;
    border-color: rgba(201, 162, 39, 0.4) !important;
  }

  /* ConnectButton 文字颜色和大小 */
  [data-rk] button[data-testid] span {
    color: #c9a227 !important;
    font-size: 13px !important;
    font-weight: 500 !important;
  }

  /* ConnectButton 内部元素 - 更紧凑 */
  [data-rk] button[data-testid] > div {
    gap: 6px !important;
    padding: 0 !important;
  }

  /* 网络选择器和钱包地址按钮 - 更紧凑 */
  [data-rk] button[data-testid] button {
    padding: 4px 8px !important;
    font-size: 12px !important;
    height: auto !important;
    min-height: auto !important;
  }

  /* 模态框背景 */
  [data-rk] [role="dialog"] {
    background-color: #0a0a0c !important;
  }

  /* 钱包选项背景 */
  [data-rk] [role="button"][aria-label*="wallet"] {
    background-color: #111111 !important;
    border-color: rgba(201, 162, 39, 0.25) !important;
  }

  [data-rk] [role="button"][aria-label*="wallet"]:hover {
    background-color: rgba(201, 162, 39, 0.1) !important;
    border-color: rgba(201, 162, 39, 0.4) !important;
  }
}

@keyframes dex-float-soft {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  33% {
    transform: translate3d(var(--dx1, 10px), var(--dy1, -14px), 0) scale(1.05);
  }
  66% {
    transform: translate3d(var(--dx2, -12px), var(--dy2, 18px), 0) scale(1.04);
  }
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes dex-bubble-float {
  0% {
    transform: translate3d(0, 0, 0) rotate(var(--rotate-from)) scale(1);
  }
  25% {
    transform: translate3d(calc(var(--move-x) * 0.4), calc(var(--move-y) * 0.3), 0)
      rotate(calc((var(--rotate-from) + var(--rotate-to)) / 2)) scale(1.01);
  }
  50% {
    transform: translate3d(calc(var(--move-x)), calc(var(--move-y)), 0) rotate(var(--rotate-to))
      scale(1.02);
  }
  75% {
    transform: translate3d(calc(var(--move-x) * 0.2), calc(var(--move-y) * 0.8), 0)
      rotate(calc((var(--rotate-from) + var(--rotate-to)) / 2)) scale(1.01);
  }
  100% {
    transform: translate3d(0, 0, 0) rotate(var(--rotate-from)) scale(1);
  }
}
